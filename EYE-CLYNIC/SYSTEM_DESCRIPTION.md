# EYE-CLYNIC System Description

## Full System Description for Frontend AI Builder Tool

EYE-CLYNIC is a comprehensive full-stack web application designed for managing an eye clinic's operations, built with a modern React frontend (using Vite, React Router, Material-UI components, and Axios for API communication) and a Node.js/Express REST API backend with MongoDB database. The system implements JWT-based authentication with role-based access control supporting two user roles: "admin" (full system access including user management, patient/visit deletion, and user registration) and "assistant" (limited access for creating and updating patients and visits but cannot delete records or register users). The frontend features a protected routing system with authentication context, a responsive sidebar navigation, and a dashboard displaying real-time statistics including total patients, visits, and doctors, along with recent activity feeds. The core functionality revolves around three main entities: Users (clinic staff with email/password authentication, name, role, and active status), Patients (with auto-generated unique codes in P000001 format, name, phone number which must be unique, age, gender, and timestamps), and Visits (comprehensive eye examination records linked to patients and automatically assigned to the authenticated doctor, containing visit date, complaint history as key-value pairs, medical history with duration in years, surgical history with duration, detailed eye examination data for both OD and OS eyes including visual acuity measurements, old glasses prescription with sphere/cylinder/axis values, refraction data, external appearance, ocular motility, eyelid condition, conjunctiva status, cornea condition, sclera, anterior chamber, iris, pupil responses, lens status, and posterior segment findings, plus optional recommendations and follow-up dates). The API provides complete CRUD operations for all entities with RESTful endpoints at http://localhost:5000/api, including patient search by name with partial matching, patient visit history retrieval, comprehensive error handling with appropriate HTTP status codes (400 for validation errors, 401 for authentication failures, 403 for authorization issues, 409 for duplicate resources), and automatic token expiration handling (15-minute JWT tokens stored in localStorage). The frontend application structure includes feature-based organization with separate modules for patients and visits, each containing list views, detail pages, create forms, and edit forms, all protected by route guards that redirect unauthenticated users to the login page. The patient management interface supports creating new patients with validation for required fields (name, phone, age), searching existing patients by name, viewing patient details with associated visit history sorted by date, and editing patient information while maintaining unique phone number constraints. The visit management system provides forms for creating comprehensive eye examination records with structured input fields for all examination components, viewing visit details with full patient and doctor information, editing existing visits, and listing all visits with filtering capabilities. The system uses Material-UI components for consistent styling and user interface elements, implements proper error handling with user-friendly messages, loading states for async operations, and maintains state management through React Context API for authentication. The backend API automatically generates patient codes sequentially, enforces data validation, handles referential integrity between patients and visits, populates related data in responses (patient and doctor information in visit records), and provides health check endpoints for system monitoring. All API requests include automatic JWT token injection through axios interceptors, handle token expiration by redirecting to login, and provide structured error responses with meaningful messages for frontend error handling. The application supports ISO 8601 date formatting, MongoDB ObjectId references, and implements proper separation of concerns with service layer abstraction in the frontend API client that encapsulates all backend communication logic, making the system maintainable, scalable, and ready for production deployment with proper authentication, authorization, and data validation throughout the entire application stack.
